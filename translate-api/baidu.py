"""
-*- coding: utf-8 -*-
@File   : .py
@author : @鲨鱼爱兜兜
@Time   : 2024/06/25 22:23
"""

import time
import requests
import execjs


query = input("请输入您要查询的单词：")
headers = {
    'Accept': '*/*',
    'Accept-Language': 'zh-CN,zh;q=0.9',
    'Cache-Control': 'no-cache',
    'Connection': 'keep-alive',
    'Content-Type': 'application/x-www-form-urlencoded',
    "Cookie": "BIDUPSID=529D72F795F09560A9A5CC1A17AE73A7; PSTM=1681276039; BAIDUID=529D72F795F09560D97567446104438A:FG=1; APPGUIDE_10_0_2=1; REALTIME_TRANS_SWITCH=1; FANYI_WORD_SWITCH=1; HISTORY_SWITCH=1; SOUND_SPD_SWITCH=1; SOUND_PREFER_SWITCH=1; H_WISE_SIDS=219946_219561_216852_213349_214806_219942_213028_230174_204917_110085_236308_243706_243873_244726_240590_245412_247148_250889_249892_253427_254294_254473_254734_254689_239150_253212_250882_255938_255981_253685_107315_254075_256083_253990_255660_255476_254076_256500_254831_256739_251971_256229_254317_256589_256996_257080_257290_256096_251059_251133_254299_257482_244253_257543_257656_257663_255177_257936_257167_257903_257823_257586_257403_255231_257790_257791_253900_258235_258257_257995_258344_258511_258373_258372_227146_256859_258724_258728_258305_258938_257303_255910_258982_258958_230288_259034_259047_259050_257016_252256_259186_259190_259193_256223_259200_259413_259285_259316_259430_259517_259569_259606_256998_259558_259409_259645_251786; H_WISE_SIDS_BFESS=219946_219561_216852_213349_214806_219942_213028_230174_204917_110085_236308_243706_243873_244726_240590_245412_247148_250889_249892_253427_254294_254473_254734_254689_239150_253212_250882_255938_255981_253685_107315_254075_256083_253990_255660_255476_254076_256500_254831_256739_251971_256229_254317_256589_256996_257080_257290_256096_251059_251133_254299_257482_244253_257543_257656_257663_255177_257936_257167_257903_257823_257586_257403_255231_257790_257791_253900_258235_258257_257995_258344_258511_258373_258372_227146_256859_258724_258728_258305_258938_257303_255910_258982_258958_230288_259034_259047_259050_257016_252256_259186_259190_259193_256223_259200_259413_259285_259316_259430_259517_259569_259606_256998_259558_259409_259645_251786; BDUSS=h6eG1qcGMyNG9FTkJuVGgwVHVPTXIwWEV-VVdIRW9qODhDM3NSMjhnUkhoY2RrRVFBQUFBJCQAAAAAAQAAAAEAAAAp5g1rRG91RG91QUlTSEFZVQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEf4n2RH-J9kUH; BDUSS_BFESS=h6eG1qcGMyNG9FTkJuVGgwVHVPTXIwWEV-VVdIRW9qODhDM3NSMjhnUkhoY2RrRVFBQUFBJCQAAAAAAQAAAAEAAAAp5g1rRG91RG91QUlTSEFZVQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEf4n2RH-J9kUH; BAIDUID_BFESS=529D72F795F09560D97567446104438A:FG=1; BA_HECTOR=2gah21a4258181ah21010g2m1ib2i9t1o; ZFY=:Bm5JPjPwyZ:A6lDbsF8UsRm1GTqHmNyMKbKywqthif:Bk:C; RT=\"z=1&dm=baidu.com&si=lh9ofaq79e8&ss=lk2ljtmb&sl=0&tt=0&bcn=https%3A%2F%2Ffclog.baidu.com%2Flog%2Fweirwood%3Ftype%3Dperf&ld=2av&ul=2b9cj&hd=2b9cz\"; BDRCVFR[bPTzwF-RsLY]=mk3SLVN4HKm; PSINO=1; delPer=0; Hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1688543894,1688709758,1689345794,1689391036; Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574=1689391036; H_PS_PSSID=36550_38643_38831_39027_39023_38959_38954_39009_38961_38820_38990_39086_38636_26350_39092_39052_39100_38951; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; ab_sr=1.0.1_ODY4MzdjODliZjBmYjk3MDM0MGE1YTYyODEzZmNiNTFhNDVjNGVlY2Q2YjdhMzdjYmFmYmQ0NjM0NzY3NDk5ZWYzYjJhNjQ3MWY1MjZkOGE3NWQ5ODU4MDUwNDY0ZmE5MTM5NzEyZWUxMTU3MGVkNThlZDE5Mjc0MmI4NTBlZTcxZTNmM2Q2ZWFhZjYyN2ZhMGU2YTU4MDMxN2Q1MWFiYjhlYzQ5NmU5YjJkZWNlNjcwNTk5NGZiMzM0ZWZlZmMy",
    "Acs-Token": "1689345795708_1689345863597_xPEQ0yYO9xuYJALqfUGYmCm7dHKG0DEGbCblkAwh1SCKpnEvJN3c/YMxbks/pjxClpAkOaBGQek9DfTUflz7RE8XELKkLxwZy7RVwcpK+VZyMqmjiAbqv50pWAKDvqTU6fCoDb9wuqMeM5de+QHKZ7DCtzxAnHrDYNkdX3P+bT0pLOxh315gGZL4OoyU7XfesTAeCtXs4KOHFP6UTJPc2lJHxKwdC4nvAWLV+R+kKpGpDWzTXxxyusP/KFAF8O4JslX/LQ5nq0NyXyOlppZtgXqQv5FBACoCtrtH6OQ9AMB008yQdbj/vJ5pJ+Mxi5HWwk2LJLFXd9YF9Zk5KYisUOSeN3DHwtoOU/CalmQyKsNtHUYON4IYTEhYQX/0Qw9Ie/8mfmkWYqMBZ8V8P6hA2vGhWbHaE+Xb7GUV2EK6lU1nbES/GZn8bzp2DzDQjwRrEPFA5jjGFfvHih1rjcLwxeRS95lwJbzh4JQf8fPUpLY=",
    'Origin': 'https://fanyi.baidu.com',
    'Pragma': 'no-cache',
    'Referer': 'https://fanyi.baidu.com/mtpe-individual/multimodal',
    'Sec-Fetch-Dest': 'empty',
    'Sec-Fetch-Mode': 'cors',
    'Sec-Fetch-Site': 'same-origin',
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Not/A)Brand";v="8", "Chromium";v="126", "Google Chrome";v="126"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"Windows"',
}
with open('./baid.js', 'r', encoding='utf-8') as f1:
    js_code = f1.read()
params = {
    "from": "auto",
    "to": "zh",
    "query": query,
    "simple_means_flag": "3",
    "sign": execjs.compile(js_code).call('T', query),
    "token": "618e4f37cd15de2718962c27a17da2a4",
    "domain": "common",
    "ts": "1689345863582"
}
response = requests.post(url="https://fanyi.baidu.com/v2transapi", headers=headers, params=params)
response.encoding = 'utf-8'
print(response.json())
